<script>
  let employeeData = [];

  fetch('Check_Rmployee_ID.json')
    .then(response => response.json())
    .then(data => {
      employeeData = data;
    });

  function cleanString(str) {
    return str.replace(/["\\]/g, '').trim(); // ล้าง " และ \
  }

  function searchEmployee() {
    const input = document.getElementById("search").value.trim();
    const resultBox = document.getElementById("result");

    const result = employeeData.find(emp =>
      cleanString(emp.employeeId) === input ||
      cleanString(emp.firstName).includes(input) ||
      cleanString(emp.lastName).includes(input)
    );

    if (result) {
      resultBox.innerHTML = `รหัส: ${cleanString(result.employeeId)}<br>ชื่อ: ${result.firstName} ${result.lastName}`;
    } else {
      resultBox.innerHTML = "ไม่พบข้อมูล";
    }
  }
</script>
